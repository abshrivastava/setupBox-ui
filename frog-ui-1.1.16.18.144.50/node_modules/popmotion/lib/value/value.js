// class Value {
//   constructor(current = 0, type) {
//     this.type = type;
//     this.listeners = [];
//     this.numListeners = 0;
//     this.action = undefined;

//     this.set(current);

//     this.onUpdate = this.onUpdate.bind(this);
//   }

//   set(current) {
//     this.current = current;
//     this.onUpdate();

//     return this;
//   }

//   getRaw() {
//     return this.current;
//   }

//   get() {
//     if (this.type && this.type.output) {
//       return this.type.output(this.current);
//     } else {
//       return this.current;
//     }
//   }

//   onUpdate() {
//     for (let i = 0; i < this.numListeners; i++) {
//       this.listeners[i](this);
//     }

//     return this;
//   }

//   addListener(callback) {
//     this.listeners.push(callback);
//     this.numListeners++;
//     return this;
//   }

//   removeListener(callback) {
//     const listenerIndex = this.listeners.indexOf(callback);
//     if (listenerIndex > -1) {
//       this.listeners.splice(listenerIndex, 1);
//       this.numListeners--;
//     }
//     return this;
//   }
// }


// function value(current, type) {

// }


// class ValueGroup {
//   constructor(values) {
//     this.set(values);
//     this.state = {};
//   }

//   set(values) {
//     for (let key in values) {
//       this[key] = this[key] ? this[key].set(values[key]) : new Value(values[key]);
//       // add listener
//     }
//   }

//   get() {
//     for () {
//       this.state[key] = value.get();
//     }

//     return this.state;
//   }
// }

// export default (values) => new ValueGroup(values);


// class CompositeValue extends Value {
//   constructor(current, type) {


//     super(current, type);

//     this.valueProps = {};
//     this.valueKeys = [];
//     this.numValueKeys = 0;

//     const valueProps = type.parse(current);

//     for (let key in valueProps) {
//       const prop = valueProps[key];
//       this[key] = new Value(prop, type.childTypes[key])
//         .addListener(this.hasUpdated);
//       this.valueKeys.push(key);
//       this.numValueKeys++;
//     }
//   }

//   get() {
//     for (let i = 0; i < this.numValueKeys; i++) {
//       const key = this.valueKeys[i];
//       const value = this[key];
//       this.current[key] = value.get();
//     }

//     return (this.type && this.type.output) ? this.type.output(this.current) : this.current;
//   }

//   set(value) {
//     const valueProps = this.type.parse(value);

//     this.current = value;

//     for (let key in valueProps) {
//       value.set(valueProps[key]);
//     }

//     return this;
//   }
// }


// import { onFrameRender, timeSinceLastFrame } from '../framesync/render-loop';

// class Value {
//   constructor(initialValue) {
//     this.state = {
//       current: initialValue,
//       velocity: 0
//     };

//     this.listeners = [];
//   }

//   update(latest) {
//     const { current } = this.state;
//     this.state.current = latest;
//     this.state.velocity = speedPerSecond(latest - current, timeSinceLastFrame());

//     if (this.state.velocity) {
//       this.hasChanged();
//     }
//   }

//   bind(action) {
//     if (this.action) {
//       this.action.unsubscribe(this.update);
//     }

//     this.action = action;
//     this.action.subscribe(this.update);

//   }

//   subscribe(callback) {
//     if (this.listeners.indexOf(callback) === -1) {
//       this.listeners.push(callback);
//     }
//   }

//   unsubscribe(callback) {
//     const indexOfCallback = this.listeners.indexOf(callback)
//     if (indexOfCallback !== -1) {
//       this.listeners.splice(indexOfCallback, 1);
//     }
//   }

//   hasChanged() {
//     const numListeners = this.listeners.length;
//     for (let i = 0; i < numListeners; i++) {
//       this.listeners[i](this);
//     }
//   }

//   set(v) {
//     this.state.current = v;
//     this.hasChanged();
//   }

//   get() {
//     return this.state.current;
//   }

//   getVelocity() {
//     return this.state.velocity;
//   }
// }

// export default function value(initialValue, onUpdate) {
//   return new Value(initialValue, onUpdate);
// }


// // Value usage
// // 

// const foo = value(`rgba(255, 255, 0)`, rgba);
// foo.red.set(100);

// const interpolator = interpolate([255, 0], [0, 1]);
// interpolator(foo.red.get());

// const animation = tween(`rgba(255, 255, 0)`, `rgba(0, 255, 0)`);

// slider = renderCSS(document.querySelector('.slider'), {
//   x: value(0)
// }, true);

// tween(slider.x, 300);
// interpolator(slider.x, slider.y)

// const animation = tween(0, 1);
// animation.interpolate()

// const transitions = {

// };

// class StateMachine extends React.Children {
//   componentDidMount() {
//     this.dom = findDOMNode(this);
//   }

//   componentWillReceiveProps({ state }) {
//     const currentState = this.props.state;

//     if (state !== currentState) {

//     }
//   }

//   render() {
//     return this.props.children(this.actions);
//   }
// }

// // states: rest, dragging, draggingOutsideLimits, seek, seekOutsideLimits


// const REST = 'rest';
// const IS_DRAGGING = 'isDragging';
// const IS_DRAGGING_OUTSIDE_LIMITS = 'isDraggingOutsideLimits';
// const IS_SCROLLING = 'isScrolling';

// const stateConditions = {
//   [REST]: {
//     isDragging: false,
//     isScrolling: false,
//     isOutsideBounds: true
//   },
//   [IS_DRAGGING]: {
//     isDragging: true,
//     isOutsideBounds: false
//   },
//   [IS_DRAGGING_OUTSIDE_BOUNDS]: {
//     isDragging: true,
//     isOutsideBounds: true
//   },
//   [IS_SCROLLING]: {
//     isScrolling: true,
//     isOutsideBounds: false
//   },
//   [IS_SCROLLING_OUTSIDE_BOUNDS]: {
//     isScrolling: true,
//     isOutsideBounds: false
//   },
//   [SEEKING]: {
//     isDragging: false,
//     isScrolling: false
//   }
// };

// const state -= {
//   [IS_DRAGGING]: {
//     action: STOP_DRAG,
//     to: SEEKING
//   }
// }

// // const transitions = {
// //   [IS_DRAGGING]: {
// //     entry: (dom, prevState) => {
// //       physics().on(dom).start();
// //     },
// //     exit: () => {}
// //   }
// //   [REST]: {
// //   }
// // };

// // Actions
// const START_DRAG = 'startDrag';
// const STOP_DRAG = 'stopDrag';
// const SCROLL = 'scroll';
// const NEXT_PAGE = 'nextPage';
// const PREV_PAGE = 'prevPage';
// const OUT_OF_BOUNDS = 'outOfBounds';

// // States
// const DRAGGING = 'dragging';
// const SCROLLING = 'scrolling';
// const SEEKING = 'seeking';

// // Transitions
// const stateTransitions = {
//   [REST]: {
//     [START_DRAG]: DRAGGING
//   },
//   [IS_DRAGGING]: {
//     [STOP_DRAG]: SEEKING
//   }
// };

// <UIStateMachine
//   stateTransitions={stateTransitions}
//   actions={[START_DRAG, STOP_DRAG, SCROLL, NEXT_PAGE, PREV_PAGE]}
//   initalState={REST}
// >
//   {({ startDrag, stopDrag, scroll, nextPage, prevPage }) => (
//     <div className={styles.container} onWheel={scroll} onTouchStart={startDrag} onTouchEnd={stopDrag}>
//       <button onClick={nextPage} />
//       <button onClick={prevPage} />
//       <ul></ul>
//     </div>
//   )}
// </UIStateMachine>
"use strict";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWx1ZS92YWx1ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7O0FBS0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoidmFsdWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjbGFzcyBWYWx1ZSB7XG4vLyAgIGNvbnN0cnVjdG9yKGN1cnJlbnQgPSAwLCB0eXBlKSB7XG4vLyAgICAgdGhpcy50eXBlID0gdHlwZTtcbi8vICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuLy8gICAgIHRoaXMubnVtTGlzdGVuZXJzID0gMDtcbi8vICAgICB0aGlzLmFjdGlvbiA9IHVuZGVmaW5lZDtcblxuLy8gICAgIHRoaXMuc2V0KGN1cnJlbnQpO1xuXG4vLyAgICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcbi8vICAgfVxuXG4vLyAgIHNldChjdXJyZW50KSB7XG4vLyAgICAgdGhpcy5jdXJyZW50ID0gY3VycmVudDtcbi8vICAgICB0aGlzLm9uVXBkYXRlKCk7XG5cbi8vICAgICByZXR1cm4gdGhpcztcbi8vICAgfVxuXG4vLyAgIGdldFJhdygpIHtcbi8vICAgICByZXR1cm4gdGhpcy5jdXJyZW50O1xuLy8gICB9XG5cbi8vICAgZ2V0KCkge1xuLy8gICAgIGlmICh0aGlzLnR5cGUgJiYgdGhpcy50eXBlLm91dHB1dCkge1xuLy8gICAgICAgcmV0dXJuIHRoaXMudHlwZS5vdXRwdXQodGhpcy5jdXJyZW50KTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgcmV0dXJuIHRoaXMuY3VycmVudDtcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICBvblVwZGF0ZSgpIHtcbi8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtTGlzdGVuZXJzOyBpKyspIHtcbi8vICAgICAgIHRoaXMubGlzdGVuZXJzW2ldKHRoaXMpO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB0aGlzO1xuLy8gICB9XG5cbi8vICAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcbi8vICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbi8vICAgICB0aGlzLm51bUxpc3RlbmVycysrO1xuLy8gICAgIHJldHVybiB0aGlzO1xuLy8gICB9XG5cbi8vICAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcbi8vICAgICBjb25zdCBsaXN0ZW5lckluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4vLyAgICAgaWYgKGxpc3RlbmVySW5kZXggPiAtMSkge1xuLy8gICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpO1xuLy8gICAgICAgdGhpcy5udW1MaXN0ZW5lcnMtLTtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHRoaXM7XG4vLyAgIH1cbi8vIH1cblxuXG4vLyBmdW5jdGlvbiB2YWx1ZShjdXJyZW50LCB0eXBlKSB7XG5cbi8vIH1cblxuXG4vLyBjbGFzcyBWYWx1ZUdyb3VwIHtcbi8vICAgY29uc3RydWN0b3IodmFsdWVzKSB7XG4vLyAgICAgdGhpcy5zZXQodmFsdWVzKTtcbi8vICAgICB0aGlzLnN0YXRlID0ge307XG4vLyAgIH1cblxuLy8gICBzZXQodmFsdWVzKSB7XG4vLyAgICAgZm9yIChsZXQga2V5IGluIHZhbHVlcykge1xuLy8gICAgICAgdGhpc1trZXldID0gdGhpc1trZXldID8gdGhpc1trZXldLnNldCh2YWx1ZXNba2V5XSkgOiBuZXcgVmFsdWUodmFsdWVzW2tleV0pO1xuLy8gICAgICAgLy8gYWRkIGxpc3RlbmVyXG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgZ2V0KCkge1xuLy8gICAgIGZvciAoKSB7XG4vLyAgICAgICB0aGlzLnN0YXRlW2tleV0gPSB2YWx1ZS5nZXQoKTtcbi8vICAgICB9XG5cbi8vICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbi8vICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgZGVmYXVsdCAodmFsdWVzKSA9PiBuZXcgVmFsdWVHcm91cCh2YWx1ZXMpO1xuXG5cbi8vIGNsYXNzIENvbXBvc2l0ZVZhbHVlIGV4dGVuZHMgVmFsdWUge1xuLy8gICBjb25zdHJ1Y3RvcihjdXJyZW50LCB0eXBlKSB7XG5cblxuXG5cbi8vICAgICBzdXBlcihjdXJyZW50LCB0eXBlKTtcblxuLy8gICAgIHRoaXMudmFsdWVQcm9wcyA9IHt9O1xuLy8gICAgIHRoaXMudmFsdWVLZXlzID0gW107XG4vLyAgICAgdGhpcy5udW1WYWx1ZUtleXMgPSAwO1xuXG4vLyAgICAgY29uc3QgdmFsdWVQcm9wcyA9IHR5cGUucGFyc2UoY3VycmVudCk7XG5cbi8vICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWVQcm9wcykge1xuLy8gICAgICAgY29uc3QgcHJvcCA9IHZhbHVlUHJvcHNba2V5XTtcbi8vICAgICAgIHRoaXNba2V5XSA9IG5ldyBWYWx1ZShwcm9wLCB0eXBlLmNoaWxkVHlwZXNba2V5XSlcbi8vICAgICAgICAgLmFkZExpc3RlbmVyKHRoaXMuaGFzVXBkYXRlZCk7XG4vLyAgICAgICB0aGlzLnZhbHVlS2V5cy5wdXNoKGtleSk7XG4vLyAgICAgICB0aGlzLm51bVZhbHVlS2V5cysrO1xuLy8gICAgIH1cbi8vICAgfVxuXG4vLyAgIGdldCgpIHtcbi8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtVmFsdWVLZXlzOyBpKyspIHtcbi8vICAgICAgIGNvbnN0IGtleSA9IHRoaXMudmFsdWVLZXlzW2ldO1xuLy8gICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG4vLyAgICAgICB0aGlzLmN1cnJlbnRba2V5XSA9IHZhbHVlLmdldCgpO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiAodGhpcy50eXBlICYmIHRoaXMudHlwZS5vdXRwdXQpID8gdGhpcy50eXBlLm91dHB1dCh0aGlzLmN1cnJlbnQpIDogdGhpcy5jdXJyZW50O1xuLy8gICB9XG5cbi8vICAgc2V0KHZhbHVlKSB7XG4vLyAgICAgY29uc3QgdmFsdWVQcm9wcyA9IHRoaXMudHlwZS5wYXJzZSh2YWx1ZSk7XG5cbi8vICAgICB0aGlzLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICBcbi8vICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWVQcm9wcykge1xuLy8gICAgICAgdmFsdWUuc2V0KHZhbHVlUHJvcHNba2V5XSk7XG4vLyAgICAgfVxuXG4vLyAgICAgcmV0dXJuIHRoaXM7XG4vLyAgIH1cbi8vIH1cblxuXG4vLyBpbXBvcnQgeyBvbkZyYW1lUmVuZGVyLCB0aW1lU2luY2VMYXN0RnJhbWUgfSBmcm9tICcuLi9mcmFtZXN5bmMvcmVuZGVyLWxvb3AnO1xuXG4vLyBjbGFzcyBWYWx1ZSB7XG4vLyAgIGNvbnN0cnVjdG9yKGluaXRpYWxWYWx1ZSkge1xuLy8gICAgIHRoaXMuc3RhdGUgPSB7XG4vLyAgICAgICBjdXJyZW50OiBpbml0aWFsVmFsdWUsXG4vLyAgICAgICB2ZWxvY2l0eTogMFxuLy8gICAgIH07XG5cbi8vICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuLy8gICB9XG5cbi8vICAgdXBkYXRlKGxhdGVzdCkge1xuLy8gICAgIGNvbnN0IHsgY3VycmVudCB9ID0gdGhpcy5zdGF0ZTtcbi8vICAgICB0aGlzLnN0YXRlLmN1cnJlbnQgPSBsYXRlc3Q7XG4vLyAgICAgdGhpcy5zdGF0ZS52ZWxvY2l0eSA9IHNwZWVkUGVyU2Vjb25kKGxhdGVzdCAtIGN1cnJlbnQsIHRpbWVTaW5jZUxhc3RGcmFtZSgpKTtcblxuLy8gICAgIGlmICh0aGlzLnN0YXRlLnZlbG9jaXR5KSB7XG4vLyAgICAgICB0aGlzLmhhc0NoYW5nZWQoKTtcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICBiaW5kKGFjdGlvbikge1xuLy8gICAgIGlmICh0aGlzLmFjdGlvbikge1xuLy8gICAgICAgdGhpcy5hY3Rpb24udW5zdWJzY3JpYmUodGhpcy51cGRhdGUpO1xuLy8gICAgIH1cblxuLy8gICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuLy8gICAgIHRoaXMuYWN0aW9uLnN1YnNjcmliZSh0aGlzLnVwZGF0ZSk7XG5cbi8vICAgfVxuXG4vLyAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuLy8gICAgIGlmICh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbi8vICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuLy8gICAgIH1cbi8vICAgfVxuXG4vLyAgIHVuc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4vLyAgICAgY29uc3QgaW5kZXhPZkNhbGxiYWNrID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcbi8vICAgICBpZiAoaW5kZXhPZkNhbGxiYWNrICE9PSAtMSkge1xuLy8gICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4T2ZDYWxsYmFjaywgMSk7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgaGFzQ2hhbmdlZCgpIHtcbi8vICAgICBjb25zdCBudW1MaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5sZW5ndGg7XG4vLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1MaXN0ZW5lcnM7IGkrKykge1xuLy8gICAgICAgdGhpcy5saXN0ZW5lcnNbaV0odGhpcyk7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgc2V0KHYpIHtcbi8vICAgICB0aGlzLnN0YXRlLmN1cnJlbnQgPSB2O1xuLy8gICAgIHRoaXMuaGFzQ2hhbmdlZCgpO1xuLy8gICB9XG5cbi8vICAgZ2V0KCkge1xuLy8gICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4vLyAgIH1cblxuLy8gICBnZXRWZWxvY2l0eSgpIHtcbi8vICAgICByZXR1cm4gdGhpcy5zdGF0ZS52ZWxvY2l0eTtcbi8vICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWx1ZShpbml0aWFsVmFsdWUsIG9uVXBkYXRlKSB7XG4vLyAgIHJldHVybiBuZXcgVmFsdWUoaW5pdGlhbFZhbHVlLCBvblVwZGF0ZSk7XG4vLyB9XG5cblxuLy8gLy8gVmFsdWUgdXNhZ2Vcbi8vIC8vIFxuXG4vLyBjb25zdCBmb28gPSB2YWx1ZShgcmdiYSgyNTUsIDI1NSwgMClgLCByZ2JhKTtcbi8vIGZvby5yZWQuc2V0KDEwMCk7XG5cbi8vIGNvbnN0IGludGVycG9sYXRvciA9IGludGVycG9sYXRlKFsyNTUsIDBdLCBbMCwgMV0pO1xuLy8gaW50ZXJwb2xhdG9yKGZvby5yZWQuZ2V0KCkpO1xuXG4vLyBjb25zdCBhbmltYXRpb24gPSB0d2VlbihgcmdiYSgyNTUsIDI1NSwgMClgLCBgcmdiYSgwLCAyNTUsIDApYCk7XG5cbi8vIHNsaWRlciA9IHJlbmRlckNTUyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJyksIHtcbi8vICAgeDogdmFsdWUoMClcbi8vIH0sIHRydWUpO1xuXG4vLyB0d2VlbihzbGlkZXIueCwgMzAwKTtcbi8vIGludGVycG9sYXRvcihzbGlkZXIueCwgc2xpZGVyLnkpXG5cbi8vIGNvbnN0IGFuaW1hdGlvbiA9IHR3ZWVuKDAsIDEpO1xuLy8gYW5pbWF0aW9uLmludGVycG9sYXRlKClcblxuLy8gY29uc3QgdHJhbnNpdGlvbnMgPSB7XG5cbi8vIH07XG5cbi8vIGNsYXNzIFN0YXRlTWFjaGluZSBleHRlbmRzIFJlYWN0LkNoaWxkcmVuIHtcbi8vICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4vLyAgICAgdGhpcy5kb20gPSBmaW5kRE9NTm9kZSh0aGlzKTtcbi8vICAgfVxuXG4vLyAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoeyBzdGF0ZSB9KSB7XG4vLyAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5wcm9wcy5zdGF0ZTtcblxuLy8gICAgIGlmIChzdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG5cbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICByZW5kZXIoKSB7XG4vLyAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4odGhpcy5hY3Rpb25zKTtcbi8vICAgfVxuLy8gfVxuXG4vLyAvLyBzdGF0ZXM6IHJlc3QsIGRyYWdnaW5nLCBkcmFnZ2luZ091dHNpZGVMaW1pdHMsIHNlZWssIHNlZWtPdXRzaWRlTGltaXRzXG5cblxuLy8gY29uc3QgUkVTVCA9ICdyZXN0Jztcbi8vIGNvbnN0IElTX0RSQUdHSU5HID0gJ2lzRHJhZ2dpbmcnO1xuLy8gY29uc3QgSVNfRFJBR0dJTkdfT1VUU0lERV9MSU1JVFMgPSAnaXNEcmFnZ2luZ091dHNpZGVMaW1pdHMnO1xuLy8gY29uc3QgSVNfU0NST0xMSU5HID0gJ2lzU2Nyb2xsaW5nJztcblxuLy8gY29uc3Qgc3RhdGVDb25kaXRpb25zID0ge1xuLy8gICBbUkVTVF06IHtcbi8vICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbi8vICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4vLyAgICAgaXNPdXRzaWRlQm91bmRzOiB0cnVlXG4vLyAgIH0sXG4vLyAgIFtJU19EUkFHR0lOR106IHtcbi8vICAgICBpc0RyYWdnaW5nOiB0cnVlLFxuLy8gICAgIGlzT3V0c2lkZUJvdW5kczogZmFsc2Vcbi8vICAgfSxcbi8vICAgW0lTX0RSQUdHSU5HX09VVFNJREVfQk9VTkRTXToge1xuLy8gICAgIGlzRHJhZ2dpbmc6IHRydWUsXG4vLyAgICAgaXNPdXRzaWRlQm91bmRzOiB0cnVlXG4vLyAgIH0sXG4vLyAgIFtJU19TQ1JPTExJTkddOiB7XG4vLyAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4vLyAgICAgaXNPdXRzaWRlQm91bmRzOiBmYWxzZVxuLy8gICB9LFxuLy8gICBbSVNfU0NST0xMSU5HX09VVFNJREVfQk9VTkRTXToge1xuLy8gICAgIGlzU2Nyb2xsaW5nOiB0cnVlLFxuLy8gICAgIGlzT3V0c2lkZUJvdW5kczogZmFsc2Vcbi8vICAgfSxcbi8vICAgW1NFRUtJTkddOiB7XG4vLyAgICAgaXNEcmFnZ2luZzogZmFsc2UsXG4vLyAgICAgaXNTY3JvbGxpbmc6IGZhbHNlXG4vLyAgIH1cbi8vIH07XG5cbi8vIGNvbnN0IHN0YXRlIC09IHtcbi8vICAgW0lTX0RSQUdHSU5HXToge1xuLy8gICAgIGFjdGlvbjogU1RPUF9EUkFHLFxuLy8gICAgIHRvOiBTRUVLSU5HXG4vLyAgIH1cbi8vIH1cblxuLy8gLy8gY29uc3QgdHJhbnNpdGlvbnMgPSB7XG4vLyAvLyAgIFtJU19EUkFHR0lOR106IHtcbi8vIC8vICAgICBlbnRyeTogKGRvbSwgcHJldlN0YXRlKSA9PiB7XG4vLyAvLyAgICAgICBwaHlzaWNzKCkub24oZG9tKS5zdGFydCgpO1xuLy8gLy8gICAgIH0sXG4vLyAvLyAgICAgZXhpdDogKCkgPT4ge31cbi8vIC8vICAgfVxuLy8gLy8gICBbUkVTVF06IHtcbi8vIC8vICAgfVxuLy8gLy8gfTtcblxuLy8gLy8gQWN0aW9uc1xuLy8gY29uc3QgU1RBUlRfRFJBRyA9ICdzdGFydERyYWcnO1xuLy8gY29uc3QgU1RPUF9EUkFHID0gJ3N0b3BEcmFnJztcbi8vIGNvbnN0IFNDUk9MTCA9ICdzY3JvbGwnO1xuLy8gY29uc3QgTkVYVF9QQUdFID0gJ25leHRQYWdlJztcbi8vIGNvbnN0IFBSRVZfUEFHRSA9ICdwcmV2UGFnZSc7XG4vLyBjb25zdCBPVVRfT0ZfQk9VTkRTID0gJ291dE9mQm91bmRzJztcblxuLy8gLy8gU3RhdGVzXG4vLyBjb25zdCBEUkFHR0lORyA9ICdkcmFnZ2luZyc7XG4vLyBjb25zdCBTQ1JPTExJTkcgPSAnc2Nyb2xsaW5nJztcbi8vIGNvbnN0IFNFRUtJTkcgPSAnc2Vla2luZyc7XG5cbi8vIC8vIFRyYW5zaXRpb25zXG4vLyBjb25zdCBzdGF0ZVRyYW5zaXRpb25zID0ge1xuLy8gICBbUkVTVF06IHtcbi8vICAgICBbU1RBUlRfRFJBR106IERSQUdHSU5HXG4vLyAgIH0sXG4vLyAgIFtJU19EUkFHR0lOR106IHtcbi8vICAgICBbU1RPUF9EUkFHXTogU0VFS0lOR1xuLy8gICB9XG4vLyB9O1xuXG4vLyA8VUlTdGF0ZU1hY2hpbmVcbi8vICAgc3RhdGVUcmFuc2l0aW9ucz17c3RhdGVUcmFuc2l0aW9uc31cbi8vICAgYWN0aW9ucz17W1NUQVJUX0RSQUcsIFNUT1BfRFJBRywgU0NST0xMLCBORVhUX1BBR0UsIFBSRVZfUEFHRV19XG4vLyAgIGluaXRhbFN0YXRlPXtSRVNUfVxuLy8gPlxuLy8gICB7KHsgc3RhcnREcmFnLCBzdG9wRHJhZywgc2Nyb2xsLCBuZXh0UGFnZSwgcHJldlBhZ2UgfSkgPT4gKFxuLy8gICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfSBvbldoZWVsPXtzY3JvbGx9IG9uVG91Y2hTdGFydD17c3RhcnREcmFnfSBvblRvdWNoRW5kPXtzdG9wRHJhZ30+XG4vLyAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e25leHRQYWdlfSAvPlxuLy8gICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtwcmV2UGFnZX0gLz5cbi8vICAgICAgIDx1bD48L3VsPlxuLy8gICAgIDwvZGl2PlxuLy8gICApfVxuLy8gPC9VSVN0YXRlTWFjaGluZT5cblxuIl19