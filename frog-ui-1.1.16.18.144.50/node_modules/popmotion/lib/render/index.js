

// import { onFrameRender } from '../framesync/render-loop';

// class Render {
//   constructor(onChange, valueMap) {
//     this.values = {...valueMap};
//     this.state = {};
//     this.onChange = onChange;

//     for (let key in valueMap) {
//       this.register(valueMap[key]);
//     }
//   }

//   register(value) {
//     value.subscribe(this.invalidate);
//   }

//   invalidate() {
//     if (!this.hasChanged) {
//       onFrameRender(this.render);
//     }

//     this.hasChanged = true;
//   }

//   render() {
//     this.hasChanged = false;
//     this.onChange(this.values);
//   }
// }

// export default (output, valueMap) => new Render(output, valueMap);
"use strict";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZW5kZXIvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuLy8gaW1wb3J0IHsgb25GcmFtZVJlbmRlciB9IGZyb20gJy4uL2ZyYW1lc3luYy9yZW5kZXItbG9vcCc7XG5cbi8vIGNsYXNzIFJlbmRlciB7XG4vLyAgIGNvbnN0cnVjdG9yKG9uQ2hhbmdlLCB2YWx1ZU1hcCkge1xuLy8gICAgIHRoaXMudmFsdWVzID0gey4uLnZhbHVlTWFwfTtcbi8vICAgICB0aGlzLnN0YXRlID0ge307XG4vLyAgICAgdGhpcy5vbkNoYW5nZSA9IG9uQ2hhbmdlO1xuXG4vLyAgICAgZm9yIChsZXQga2V5IGluIHZhbHVlTWFwKSB7XG4vLyAgICAgICB0aGlzLnJlZ2lzdGVyKHZhbHVlTWFwW2tleV0pO1xuLy8gICAgIH1cbi8vICAgfVxuXG4vLyAgIHJlZ2lzdGVyKHZhbHVlKSB7XG4vLyAgICAgdmFsdWUuc3Vic2NyaWJlKHRoaXMuaW52YWxpZGF0ZSk7XG4vLyAgIH1cblxuLy8gICBpbnZhbGlkYXRlKCkge1xuLy8gICAgIGlmICghdGhpcy5oYXNDaGFuZ2VkKSB7XG4vLyAgICAgICBvbkZyYW1lUmVuZGVyKHRoaXMucmVuZGVyKTtcbi8vICAgICB9XG5cbi8vICAgICB0aGlzLmhhc0NoYW5nZWQgPSB0cnVlO1xuLy8gICB9XG5cbi8vICAgcmVuZGVyKCkge1xuLy8gICAgIHRoaXMuaGFzQ2hhbmdlZCA9IGZhbHNlO1xuLy8gICAgIHRoaXMub25DaGFuZ2UodGhpcy52YWx1ZXMpO1xuLy8gICB9XG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IChvdXRwdXQsIHZhbHVlTWFwKSA9PiBuZXcgUmVuZGVyKG91dHB1dCwgdmFsdWVNYXApO1xuXG5cbiJdfQ==