'use strict';

exports.__esModule = true;

var _transformProps = require('./transform-props');

var _transformProps2 = _interopRequireDefault(_transformProps);

var _prefixer = require('./prefixer');

var _prefixer2 = _interopRequireDefault(_prefixer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TRANSLATE = 'translate';
var translateMap = {
  x: TRANSLATE + 'X',
  y: TRANSLATE + 'Y',
  z: TRANSLATE + 'Z'
};

function buildStylePropertyString(state, disableHardwareAcceleration) {
  var propertyString = '';
  var transformString = '';
  var transformHasZ = false;

  for (var key in state) {
    if (state.hasOwnProperty(key)) {
      var value = state[key];

      if (translateMap[key]) {
        key = translateMap[key];
      }

      if (_transformProps2.default[key]) {
        transformString += key + '(' + value + ') ';
        transformHasZ = key === translateMap.z ? true : transformHasZ;
      } else {
        propertyString += ';' + (0, _prefixer2.default)(key, true) + ':' + value;
      }
    }
  }

  if (transformString !== '') {
    if (!transformHasZ && !disableHardwareAcceleration) {
      transformString += translateMap.z + '(0)';
    }

    propertyString += ';' + (0, _prefixer2.default)('transform', true) + ':' + transformString;
  }

  return propertyString;
}

exports.default = function (element, disableHardwareAcceleration) {
  return function (values) {
    var propertyString = buildStylePropertyString(values, disableHardwareAcceleration);
    element.style.cssText += propertyString;
  };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZW5kZXIvY3NzL3JlbmRlci5qcyJdLCJuYW1lcyI6WyJUUkFOU0xBVEUiLCJ0cmFuc2xhdGVNYXAiLCJ4IiwieSIsInoiLCJidWlsZFN0eWxlUHJvcGVydHlTdHJpbmciLCJzdGF0ZSIsImRpc2FibGVIYXJkd2FyZUFjY2VsZXJhdGlvbiIsInByb3BlcnR5U3RyaW5nIiwidHJhbnNmb3JtU3RyaW5nIiwidHJhbnNmb3JtSGFzWiIsImtleSIsImhhc093blByb3BlcnR5IiwidmFsdWUiLCJlbGVtZW50IiwidmFsdWVzIiwic3R5bGUiLCJjc3NUZXh0Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsWUFBWSxXQUFsQjtBQUNBLElBQU1DLGVBQWU7QUFDbkJDLEtBQUdGLFlBQVksR0FESTtBQUVuQkcsS0FBR0gsWUFBWSxHQUZJO0FBR25CSSxLQUFHSixZQUFZO0FBSEksQ0FBckI7O0FBTUEsU0FBU0ssd0JBQVQsQ0FBa0NDLEtBQWxDLEVBQXlDQywyQkFBekMsRUFBc0U7QUFDcEUsTUFBSUMsaUJBQWlCLEVBQXJCO0FBQ0EsTUFBSUMsa0JBQWtCLEVBQXRCO0FBQ0EsTUFBSUMsZ0JBQWdCLEtBQXBCOztBQUVBLE9BQUssSUFBSUMsR0FBVCxJQUFnQkwsS0FBaEIsRUFBdUI7QUFDckIsUUFBSUEsTUFBTU0sY0FBTixDQUFxQkQsR0FBckIsQ0FBSixFQUErQjtBQUM3QixVQUFNRSxRQUFRUCxNQUFNSyxHQUFOLENBQWQ7O0FBRUEsVUFBSVYsYUFBYVUsR0FBYixDQUFKLEVBQXVCO0FBQ3JCQSxjQUFNVixhQUFhVSxHQUFiLENBQU47QUFDRDs7QUFFRCxVQUFJLHlCQUFlQSxHQUFmLENBQUosRUFBeUI7QUFDdkJGLDJCQUFtQkUsTUFBTSxHQUFOLEdBQVlFLEtBQVosR0FBb0IsSUFBdkM7QUFDQUgsd0JBQWlCQyxRQUFRVixhQUFhRyxDQUF0QixHQUEyQixJQUEzQixHQUFrQ00sYUFBbEQ7QUFFRCxPQUpELE1BSU87QUFDTEYsMEJBQWtCLE1BQU0sd0JBQVNHLEdBQVQsRUFBYyxJQUFkLENBQU4sR0FBNEIsR0FBNUIsR0FBa0NFLEtBQXBEO0FBQ0Q7QUFDRjtBQUNGOztBQUVELE1BQUlKLG9CQUFvQixFQUF4QixFQUE0QjtBQUMxQixRQUFJLENBQUNDLGFBQUQsSUFBa0IsQ0FBQ0gsMkJBQXZCLEVBQW9EO0FBQ2xERSx5QkFBbUJSLGFBQWFHLENBQWIsR0FBaUIsS0FBcEM7QUFDRDs7QUFFREksc0JBQWtCLE1BQU0sd0JBQVMsV0FBVCxFQUFzQixJQUF0QixDQUFOLEdBQW9DLEdBQXBDLEdBQTBDQyxlQUE1RDtBQUNEOztBQUVELFNBQU9ELGNBQVA7QUFDRDs7a0JBRWMsVUFBQ00sT0FBRCxFQUFVUCwyQkFBVjtBQUFBLFNBQTBDLFVBQUNRLE1BQUQsRUFBWTtBQUNuRSxRQUFNUCxpQkFBaUJILHlCQUF5QlUsTUFBekIsRUFBaUNSLDJCQUFqQyxDQUF2QjtBQUNBTyxZQUFRRSxLQUFSLENBQWNDLE9BQWQsSUFBeUJULGNBQXpCO0FBQ0QsR0FIYztBQUFBLEMiLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRyYW5zZm9ybVByb3BzIGZyb20gJy4vdHJhbnNmb3JtLXByb3BzJztcbmltcG9ydCBwcmVmaXhlciBmcm9tICcuL3ByZWZpeGVyJztcblxuY29uc3QgVFJBTlNMQVRFID0gJ3RyYW5zbGF0ZSc7XG5jb25zdCB0cmFuc2xhdGVNYXAgPSB7XG4gIHg6IFRSQU5TTEFURSArICdYJyxcbiAgeTogVFJBTlNMQVRFICsgJ1knLFxuICB6OiBUUkFOU0xBVEUgKyAnWidcbn07XG5cbmZ1bmN0aW9uIGJ1aWxkU3R5bGVQcm9wZXJ0eVN0cmluZyhzdGF0ZSwgZGlzYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uKSB7XG4gIGxldCBwcm9wZXJ0eVN0cmluZyA9ICcnO1xuICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gJyc7XG4gIGxldCB0cmFuc2Zvcm1IYXNaID0gZmFsc2U7XG5cbiAgZm9yIChsZXQga2V5IGluIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3RhdGVba2V5XTtcblxuICAgICAgaWYgKHRyYW5zbGF0ZU1hcFtrZXldKSB7XG4gICAgICAgIGtleSA9IHRyYW5zbGF0ZU1hcFtrZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNmb3JtUHJvcHNba2V5XSkge1xuICAgICAgICB0cmFuc2Zvcm1TdHJpbmcgKz0ga2V5ICsgJygnICsgdmFsdWUgKyAnKSAnO1xuICAgICAgICB0cmFuc2Zvcm1IYXNaID0gKGtleSA9PT0gdHJhbnNsYXRlTWFwLnopID8gdHJ1ZSA6IHRyYW5zZm9ybUhhc1o7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BlcnR5U3RyaW5nICs9ICc7JyArIHByZWZpeGVyKGtleSwgdHJ1ZSkgKyAnOicgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodHJhbnNmb3JtU3RyaW5nICE9PSAnJykge1xuICAgIGlmICghdHJhbnNmb3JtSGFzWiAmJiAhZGlzYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uKSB7XG4gICAgICB0cmFuc2Zvcm1TdHJpbmcgKz0gdHJhbnNsYXRlTWFwLnogKyAnKDApJztcbiAgICB9XG5cbiAgICBwcm9wZXJ0eVN0cmluZyArPSAnOycgKyBwcmVmaXhlcigndHJhbnNmb3JtJywgdHJ1ZSkgKyAnOicgKyB0cmFuc2Zvcm1TdHJpbmc7XG4gIH1cblxuICByZXR1cm4gcHJvcGVydHlTdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50LCBkaXNhYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24pID0+ICh2YWx1ZXMpID0+IHtcbiAgY29uc3QgcHJvcGVydHlTdHJpbmcgPSBidWlsZFN0eWxlUHJvcGVydHlTdHJpbmcodmFsdWVzLCBkaXNhYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24pO1xuICBlbGVtZW50LnN0eWxlLmNzc1RleHQgKz0gcHJvcGVydHlTdHJpbmc7XG59OyJdfQ==