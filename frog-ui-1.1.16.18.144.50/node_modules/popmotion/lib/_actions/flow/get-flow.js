'use strict';

exports.__esModule = true;

var _Flow = require('../Flow');

var _Flow2 = _interopRequireDefault(_Flow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SAVE_PROP = '__pm_flow';

exports.default = function (element, adapter) {
  if (element[SAVE_PROP]) {
    return element[SAVE_PROP];
  } else {
    var flow = new _Flow2.default({ element: element, adapter: adapter });

    // Bind adapter to element
    Object.defineProperty(element, SAVE_PROP, {
      enumerable: false,
      writable: false,
      value: flow
    });

    return flow;
  }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9fYWN0aW9ucy9mbG93L2dldC1mbG93LmpzIl0sIm5hbWVzIjpbIlNBVkVfUFJPUCIsImVsZW1lbnQiLCJhZGFwdGVyIiwiZmxvdyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsWUFBWSxXQUFsQjs7a0JBRWUsVUFBQ0MsT0FBRCxFQUFVQyxPQUFWLEVBQXNCO0FBQ25DLE1BQUlELFFBQVFELFNBQVIsQ0FBSixFQUF3QjtBQUN0QixXQUFPQyxRQUFRRCxTQUFSLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFNRyxPQUFPLG1CQUFTLEVBQUVGLGdCQUFGLEVBQVdDLGdCQUFYLEVBQVQsQ0FBYjs7QUFFQTtBQUNBRSxXQUFPQyxjQUFQLENBQXNCSixPQUF0QixFQUErQkQsU0FBL0IsRUFBMEM7QUFDeENNLGtCQUFZLEtBRDRCO0FBRXhDQyxnQkFBVSxLQUY4QjtBQUd4Q0MsYUFBT0w7QUFIaUMsS0FBMUM7O0FBTUEsV0FBT0EsSUFBUDtBQUNEO0FBQ0YsQyIsImZpbGUiOiJnZXQtZmxvdy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGbG93IGZyb20gJy4uL0Zsb3cnO1xuXG5jb25zdCBTQVZFX1BST1AgPSAnX19wbV9mbG93JztcblxuZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQsIGFkYXB0ZXIpID0+IHtcbiAgaWYgKGVsZW1lbnRbU0FWRV9QUk9QXSkge1xuICAgIHJldHVybiBlbGVtZW50W1NBVkVfUFJPUF07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZmxvdyA9IG5ldyBGbG93KHsgZWxlbWVudCwgYWRhcHRlciB9KTtcblxuICAgIC8vIEJpbmQgYWRhcHRlciB0byBlbGVtZW50XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsIFNBVkVfUFJPUCwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogZmxvd1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZsb3c7XG4gIH1cbn07XG5cblxuIl19